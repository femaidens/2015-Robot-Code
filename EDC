/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */

import edu.wpi.first.wpilibj.Joystick;
import java.lang.Math;


public class EDC{
  private final double CROSSOVER = 0.5;
  private final double BASE = 10;
  
  private double logN(double base, double n){
   return Math.log(n)/Math.log(base);
  }

  public double convertDriveVal(double yValue){
    // get y-value of given joystick
    double yVal = yValue;
    
    //note: it might be worth experimenting with the square root curve
    
    if (yVal == 0){
      return 0.0;
    }
    /* if backwards, convert to drive value with f(x) = -log(-1(x-1)) 
    else if (yVal < -0.5){
      return (double)(-1)*Math.log10(-1*(yVal-1)); 
    } 
    
    else if (yVal < 0.0 && yVal > -0.5){
      //return {some exponential function} 
    } */
    
    //if forwards, convert to drive value with f(x) = log(b, 1-c+x)
    else if (yVal >= CROSSOVER){
      double k = (1 - CROSSOVER) / (logN(BASE, 2 - CROSSOVER) - 1);
      return Math.log(yVal + 1 - CROSSOVER) * k + CROSSOVER; 
    }
    
    //if forwards and y value between 0 and 0.5, convert with f(x) = (b^c-1)h+c
    else if (yVal < CROSSOVER && yVal > 0){
      double h = (CROSSOVER) / (Math.pow(BASE, CROSSOVER) - 1);
      return (Math.pow(BASE, CROSSOVER) - 1 * h);
      
    }
  }
}  
  

